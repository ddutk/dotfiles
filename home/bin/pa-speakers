#!/bin/sh

HEADPHONE_SINK=crossfeed
HEADPHONE_PORT=analog-output-lineout
SPEAKER_SINK='alsa_output.usb-Audioengine_Audioengine_2_-00-A2.analog-stereo'
SPEAKER_PORT=analog-output

# Set the default sink and output
pacmd set-default-sink $SPEAKER_SINK
pacmd set-sink-port $SPEAKER_SINK $SPEAKER_PORT

# Move the playing stream over
STREAM_INDEX=`pacmd list-sink-inputs | grep protocol-native -B 1 | grep index: | sed 's/.*index: //'`
if [ ! -z "$STREAM_INDEX" ]; then
  pacmd move-sink-input $STREAM_INDEX $SPEAKER_SINK
fi

# Notify
notify-send "Output Changed" "Audio output set to speakers" --icon=audio-speakers-symbolic
